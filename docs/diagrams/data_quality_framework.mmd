---
title: Tampa Rent Signals - Data Quality Framework
---
graph TB
    %% Data Quality Layers
    subgraph "ğŸ“Š Data Quality Validation Framework"
        direction TB
        
        subgraph "ğŸ¥‰ Bronze Layer Validation"
            BRONZE_CHECKS[ğŸ“‹ Raw Data Checks<br/>ğŸ“ File format validation<br/>ğŸ“Š Schema compliance<br/>ğŸ“… Date range verification<br/>ğŸ”¢ Basic data types]
        end
        
        subgraph "ğŸ¥ˆ Silver Layer - Staging Validation"
            direction TB
            STG_GE[ğŸ›¡ï¸ Great Expectations Suites<br/>ğŸ“Š 17 expectations for stg_aptlist<br/>ğŸ“Š 15 expectations for stg_zori<br/>ğŸ“Š 12 expectations for stg_fred]
            
            STG_APTLIST_CHECKS[stg_aptlist_suite<br/>âœ… Row count: 1K-500K<br/>âœ… Rent index: 0-2000<br/>âœ… Population bounds<br/>âœ… Data quality scores<br/>âœ… Business key uniqueness]
            
            STG_ZORI_CHECKS[stg_zori_suite<br/>âœ… Row count: 5K-1M<br/>âœ… ZORI values: 500-8000<br/>âœ… Metro size validation<br/>âœ… State name format<br/>âœ… Size category enum]
            
            STG_FRED_CHECKS[stg_fred_suite<br/>âœ… FRED series ID format<br/>âœ… CPI category validation<br/>âœ… Seasonal adjustment<br/>âœ… Value range checking<br/>âœ… Reliability scoring]
            
            STG_FRESHNESS[â° Freshness Checks<br/>ğŸ“… Data < 24 hours old<br/>ğŸ” Source monitoring<br/>ğŸš¨ Staleness alerts]
        end
        
        subgraph "ğŸ¥ˆ Silver Layer - Core Validation"
            direction TB
            CORE_GE[ğŸ›¡ï¸ Great Expectations Suites<br/>ğŸ“Š 15 expectations for fact_rent_zori<br/>ğŸ“Š 13 expectations for fact_rent_aptlist]
            
            CORE_BUSINESS_RULES[ğŸ¯ Business Rule Checks<br/>ğŸ“ˆ YoY growth bounds: -50% to +100%<br/>ğŸ‘¥ Population > 0 and < 50M<br/>ğŸ”¢ Fact table grain uniqueness<br/>ğŸ“Š Calculated metrics validation<br/>ğŸ† Ranking consistency]
            
            CORE_INTEGRITY[ğŸ”— Referential Integrity<br/>ğŸ”‘ Dimension key existence<br/>ğŸ“… Date consistency<br/>ğŸ·ï¸ Category enumerations<br/>ğŸ“Š Cross-table validation]
        end
        
        subgraph "ğŸ¥‡ Gold Layer - Mart Validation"
            direction TB
            MART_GE[ğŸ›¡ï¸ Great Expectations Suites<br/>ğŸ“Š 12 expectations for mart_rent_trends<br/>ğŸ“Š Additional mart validations]
            
            MART_COMPLETENESS[ğŸ“‹ Data Completeness<br/>ğŸ“Š Key metrics < 5% null<br/>ğŸ¯ Investment scores present<br/>ğŸŒ¡ï¸ Market temperature assigned<br/>ğŸ’° Rent values complete]
            
            MART_BUSINESS_METRICS[ğŸ¯ Business Metrics Validation<br/>ğŸ”¥ Heat scores: 0-100 range<br/>ğŸ’¡ Investment scores: 1-100<br/>ğŸ“ˆ Growth calculations accurate<br/>ğŸ¨ Temperature categories valid<br/>ğŸ† Rankings consistent]
            
            MART_FRESHNESS[â° Mart Freshness<br/>ğŸ“… Data < 72 hours old<br/>ğŸ”„ Refresh monitoring<br/>ğŸ“Š SLA compliance]
        end
    end

    %% Dagster Asset Checks Integration
    subgraph "âš™ï¸ Dagster Asset Checks Integration"
        direction TB
        
        DAGSTER_QUALITY[ğŸ¯ Quality Asset Checks<br/>âœ… 6 GE integration checks<br/>ğŸ”— Automatic suite execution<br/>ğŸ“Š Structured metadata capture<br/>ğŸš¨ Blocking vs warning severity]
        
        DAGSTER_FRESHNESS[â° Freshness Asset Checks<br/>âœ… 4 SQL-based checks<br/>ğŸ“… Time-based validation<br/>âš¡ Real-time monitoring<br/>ğŸ” Snowflake integration]
        
        DAGSTER_BUSINESS[ğŸ¯ Business Rule Asset Checks<br/>âœ… 4 custom validation checks<br/>ğŸ“Š Statistical validation<br/>ğŸ¨ Range checking<br/>ğŸ“ˆ Trend analysis]
        
        CHECK_ORCHESTRATION[ğŸ”§ Check Orchestration<br/>ğŸš« Blocking checks stop pipeline<br/>âš ï¸ Warning checks allow continuation<br/>ğŸ“Š Metadata aggregation<br/>ğŸ“ˆ Success rate tracking]
    end

    %% Quality Monitoring
    subgraph "ğŸ“Š Quality Monitoring & Reporting"
        direction TB
        
        GE_REPORTS[ğŸ“‹ Great Expectations Reports<br/>ğŸ“Š HTML data docs<br/>ğŸ“ˆ Validation trends<br/>ğŸ” Detailed failure analysis<br/>ğŸ“… Historical tracking]
        
        DAGSTER_MONITORING[ğŸ–¥ï¸ Dagster UI Monitoring<br/>âœ… Asset check status<br/>ğŸ“Š Run success rates<br/>ğŸ” Failure investigation<br/>ğŸ“ˆ Performance metrics]
        
        OPERATIONAL_DASHBOARD[ğŸ“Š Operational Dashboard<br/>ğŸ¯ mart_data_lineage<br/>ğŸ“… Data freshness status<br/>ğŸ“Š Quality score trends<br/>ğŸš¨ SLA violations<br/>ğŸ“ˆ Reliability metrics]
        
        ALERTING[ğŸš¨ Alerting & Notifications<br/>ğŸ“§ Email alerts<br/>ğŸ’¬ Slack integration<br/>ğŸ“± Mobile notifications<br/>ğŸ”” Escalation policies]
    end

    %% Quality Enforcement Flow
    subgraph "ğŸ›¡ï¸ Quality Enforcement Workflow"
        direction LR
        
        INGESTION[ğŸ“¥ Data Ingestion<br/>ğŸ” Initial validation]
        
        STAGING_GATE[ğŸšª Staging Quality Gate<br/>ğŸ›¡ï¸ Blocking validation<br/>ğŸš« Stop on critical failure<br/>âš ï¸ Continue with warnings]
        
        CORE_GATE[ğŸšª Core Quality Gate<br/>ğŸ“Š Business rule validation<br/>ğŸ”— Integrity checking<br/>ğŸ“ˆ Metric validation]
        
        MART_GATE[ğŸšª Mart Quality Gate<br/>ğŸ“‹ Completeness validation<br/>ğŸ¯ Business metric checks<br/>â° Freshness verification]
        
        CONSUMPTION[ğŸ“Š Data Consumption<br/>âœ… Quality assured<br/>ğŸ“ˆ Monitored usage<br/>ğŸ” Continuous validation]
    end

    %% Quality Metrics
    subgraph "ğŸ“ˆ Quality Metrics & KPIs"
        direction TB
        
        COVERAGE_METRICS[ğŸ“Š Validation Coverage<br/>âœ… 100+ total expectations<br/>ğŸ“Š Layer-specific coverage<br/>ğŸ¯ Business rule coverage<br/>ğŸ“ˆ Coverage trending]
        
        SUCCESS_METRICS[ğŸ“ˆ Success Rate Metrics<br/>âœ… Pipeline success rate<br/>ğŸ“Š Check pass rates<br/>ğŸ¯ SLA compliance<br/>â° Time to resolution]
        
        DATA_HEALTH[ğŸ¥ Data Health Scores<br/>ğŸ¯ Overall quality score<br/>ğŸ“Š Source reliability scores<br/>ğŸ” Anomaly detection rates<br/>ğŸ“ˆ Quality trending]
    end

    %% Data Flow with Quality Gates
    BRONZE_CHECKS --> STG_GE
    STG_GE --> STG_APTLIST_CHECKS
    STG_GE --> STG_ZORI_CHECKS
    STG_GE --> STG_FRED_CHECKS
    STG_FRESHNESS --> STAGEGATE_PASS[âœ… Staging Gate Passed]
    
    STAGEGATE_PASS --> CORE_GE
    CORE_GE --> CORE_BUSINESS_RULES
    CORE_BUSINESS_RULES --> CORE_INTEGRITY
    CORE_INTEGRITY --> COREGATE_PASS[âœ… Core Gate Passed]
    
    COREGATE_PASS --> MART_GE
    MART_GE --> MART_COMPLETENESS
    MART_COMPLETENESS --> MART_BUSINESS_METRICS
    MART_BUSINESS_METRICS --> MART_FRESHNESS
    MART_FRESHNESS --> MARTGATE_PASS[âœ… Mart Gate Passed]
    
    %% Dagster Integration
    STG_APTLIST_CHECKS -.-> DAGSTER_QUALITY
    STG_ZORI_CHECKS -.-> DAGSTER_QUALITY
    STG_FRED_CHECKS -.-> DAGSTER_QUALITY
    STG_FRESHNESS -.-> DAGSTER_FRESHNESS
    CORE_BUSINESS_RULES -.-> DAGSTER_BUSINESS
    MART_BUSINESS_METRICS -.-> DAGSTER_BUSINESS
    MART_FRESHNESS -.-> DAGSTER_FRESHNESS
    
    DAGSTER_QUALITY --> CHECK_ORCHESTRATION
    DAGSTER_FRESHNESS --> CHECK_ORCHESTRATION
    DAGSTER_BUSINESS --> CHECK_ORCHESTRATION
    
    %% Monitoring Integration
    CHECK_ORCHESTRATION --> DAGSTER_MONITORING
    STG_GE --> GE_REPORTS
    CORE_GE --> GE_REPORTS
    MART_GE --> GE_REPORTS
    
    MARTGATE_PASS --> OPERATIONAL_DASHBOARD
    DAGSTER_MONITORING --> ALERTING
    GE_REPORTS --> ALERTING
    OPERATIONAL_DASHBOARD --> ALERTING
    
    %% Quality Workflow
    INGESTION --> STAGING_GATE
    STAGING_GATE -->|Pass| CORE_GATE
    STAGING_GATE -->|Fail| ALERTING
    CORE_GATE -->|Pass| MART_GATE
    CORE_GATE -->|Fail| ALERTING
    MART_GATE -->|Pass| CONSUMPTION
    MART_GATE -->|Fail| ALERTING
    
    %% Metrics Integration
    CHECK_ORCHESTRATION --> COVERAGE_METRICS
    DAGSTER_MONITORING --> SUCCESS_METRICS
    OPERATIONAL_DASHBOARD --> DATA_HEALTH

    %% Styling
    classDef bronzeStyle fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef stagingStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef coreStyle fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef martStyle fill:#fff8e1,stroke:#ff6f00,stroke-width:2px
    classDef dagsterStyle fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef monitoringStyle fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef workflowStyle fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    classDef metricsStyle fill:#efebe9,stroke:#5d4037,stroke-width:2px
    classDef passStyle fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px

    class BRONZE_CHECKS bronzeStyle
    class STG_GE,STG_APTLIST_CHECKS,STG_ZORI_CHECKS,STG_FRED_CHECKS,STG_FRESHNESS stagingStyle
    class CORE_GE,CORE_BUSINESS_RULES,CORE_INTEGRITY coreStyle
    class MART_GE,MART_COMPLETENESS,MART_BUSINESS_METRICS,MART_FRESHNESS martStyle
    class DAGSTER_QUALITY,DAGSTER_FRESHNESS,DAGSTER_BUSINESS,CHECK_ORCHESTRATION dagsterStyle
    class GE_REPORTS,DAGSTER_MONITORING,OPERATIONAL_DASHBOARD,ALERTING monitoringStyle
    class INGESTION,STAGING_GATE,CORE_GATE,MART_GATE,CONSUMPTION workflowStyle
    class COVERAGE_METRICS,SUCCESS_METRICS,DATA_HEALTH metricsStyle
    class STAGEGATE_PASS,COREGATE_PASS,MARTGATE_PASS passStyle